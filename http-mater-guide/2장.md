# 2장 URL과 리소스

URL(Uniform Resource Locator)은 인터넷의 리소스를 가리키는 표준이름입니다. URL은 전자정보 일부를 가리키고 그것이 어디에 있고 어떻게 접근할 수 있는지 알려줍니다.

## 2.1 인터넷의 리소스 탐색하기

URL은 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킵니다. 사용자는 브라우저에 URL을 입력하고 브라우저는 화면 뒤에서 사용자가 원하는 리소스를 얻기 위해서 적절한 프로토콜을 사용하여 메시지를 전송합니다.

`http://www.lazy-mg.com/seasonal/index.html`이라는 URL을 불러오고 싶다고 해봅시다.

![](https://velog.velcdn.com/images/cbfmark/post/7d478c30-755b-4a64-ad1a-62e3ae5dbd49/image.png)

- URL의 첫 부분인 http는 URL의 스킴입니다. 스킴은 웹 클라이언트가 리소스에 어떻게 접근하는지 알려줍니다.
- URL의 두 번째 부분인 www.lazy-mg.com은 서버의 위치입니다. 이는 웹 클라이언트가 리소스가 어디에 호스팅 되어 있는지 알려줍니다.
- URL의 세 번째 부분인 /seasonal/index.html은 리소스의 경로입니다. 경로는 서버에 존재하는 로컬 리소스들 중에서 요청받은 리소스가 무엇인지 알려줍니다.

URL을 사용하면 리소스를 일관된 방식으로 지칭할 수 있습니다. 대부분의 URL은 동일하게 `스킴://서버위치/경로` 구조로 이루어져 있습니다. 따라서 인터넷 상의 모든 리소스를 가리키고 가죠오기 위해, 그리고 모든 사람이 같은 방식으로 이름을 써서 리소스를 찾을 수 있도록, 단일 방식의 작명 규칙을 가진 것입니다.

## 2.2 URL 문법

URL로 인터넷상의 모든 리소스를 찾을 수 있지만, 그 리소스들은 다른 스킴을 통해 접근할 수 있으며, URL 문법은 스킴에 따라서 달라집니다. 대부분의 URL은 일반 URL 문법을 따르며, 서로 다른 URL 스킴도 형태와 문법 면에서 매우 유사합니다.

대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉩니다.

`<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>`

URL의 가장 중요한 세 가지 컴포넌트는 스킴, 호스트, 경로입니다.

| 컴포넌트    | 설명                                                                                                               | 기본값           |
| ----------- | ------------------------------------------------------------------------------------------------------------------ | ---------------- |
| 스킴        | 리소스를 가져오려면 어떤 프로토콜을 사용하여 서버에 접근해야 하는지 가리킴                                         | 없음             |
| 사용자 이름 | 몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로 함                                                      | anonymous        |
| 비밀번호    | 사용자의 비밀번호를 가리키며, 사용자 이름에 콜론으로 이어서 기술함                                                 | <이메일 주소>    |
| 호스트      | 리소스를 호스팅하는 서버의 호스트 명이나 주소                                                                      | 없음             |
| 포트        | 리소스를 호스팅하는 서버가 열어놓은 포트번호(HTTP는 80)                                                            | 스킴에 따라 다름 |
| 경로        | 서버 내 리소스가 어디에 있는지 가리킴                                                                              | 없음             |
| 파라미터    | 파라미터는 이름/값을 쌍으로 가짐. 다른 파라미터나 경로의 일부를 세미콜론으로 구분하여 기술. 여러 개를 가질 수 있음 | 없음             |
| 질의        | 스킴에서 애플리케이션에 파라미터를 전달하는 데 쓰임. URL의 끝에서 "?"로 구분함                                     | 없음             |
| 프래그먼트  | 리소스의 조각이나 일부분을 가리키는 이름. 클라이언트에서만 사용. URL의 끝에서 "#"로 구분함                         | 없음             |

## 2.3 단축 URL

### 2.3.1 상대 URL

URL은 상대 URL과 절대 URL 두 가지로 나뉩니다. 절대 URL은 리소스에 접근하는데 필요한 모든 정보를 가지고 있습니다.

이와 달리 상대 URL은 모든 정보를 담고 있지는 않습니다. 상대 URL로 리소스에 접근하는데 필요한 모든 정보를 얻기 위해서는, Base라고 하는 다른 URL을 사용해야 합니다.

아래의 예시는`http://www.lazy-mg.com/foods.html`이 가리키는 리소스인 HTML 문서의 내용입니다. 이 HTML 문서에는 `./foods.html` URL을 가리키는 하이퍼 링크가 있습니다. 이 URL은 문서의 URL을 기준으로 상대경로로 해석될 수 있습니다.

![](https://velog.velcdn.com/images/cbfmark/post/7e4c3c68-94f3-4360-92cd-3bd5aef82fa4/image.png)

이 예시의 Base URL은 `http://www.lazy-mg.com/foods.html`입니다. 이를 통해 상대 URL에서는 기술하지 않은 정보를 추측할 수 있습니다. Base URL을 사용하여 스킴은 http이고 호스트는 www.lazy-mg.com이라는 것을 추측할 수 있습니다.

![](https://velog.velcdn.com/images/cbfmark/post/09172cef-adab-42a2-b6df-c66f2c245639/image.png)

상대 URL을 사용하면 HTML 페이지 같은 리소스 집합을 쉽게 변경할 수 있습니다. 또한 문서 집합의 위치를 변경하더라도, 새로운 Base URL에 의해서 해석될 것이기 때문에 위치를 변경하더라도 잘 동작 할 것입니다.

## 2.4 안전하지 않은 문자

URL 설계자는 사람들이 URL에 이진 데이터나 일반적으로 안전한 알파벳 외의 문자도 포함하려는 것을 알게 되어 이스케이프 기능을 추가함으로 안전하지 않은 문자들을 안전한 문자로 인코딩할 수 있게 하였습니다.

인코딩 전 URL
![](https://velog.velcdn.com/images/cbfmark/post/590c018d-7b1a-4a73-bcd5-3695e8e5d696/image.png)

인코딩 후 URL

![](https://velog.velcdn.com/images/cbfmark/post/a0599365-9e3b-4c42-93d2-77a388000ebb/image.png)
